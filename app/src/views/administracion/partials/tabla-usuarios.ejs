<h2><i class="fas fa-users"></i> Lista de usuarios</h2>
<button onclick="agregarUsuario()" class="boton-nuevo-usuario" style="width:auto;display:inline-block;margin-bottom:16px;">
    <i class="fas fa-plus"></i> Agregar nuevo usuario
</button>
<table border="1" cellpadding="8" cellspacing="0" style="width:100%;border-collapse:collapse;">
    <tr>
        <th>Usuario</th>
        <th>Nombre</th>
        <th>Correo</th>
        <th>Tipo</th>
        <th>Acciones</th>
    </tr>
    <% if (usuarios && usuarios.length > 0) { %>
        <% usuarios.forEach(function(user) { %>
        <tr>
            <td><%= user.usuario %></td>
            <td><%= user.nombre || '' %></td>
            <td><%= user.mail %></td>
            <td><%= user.tipo == 1 ? 'Administrador' : 'Usuario' %></td>
            <td>
                <button class="btn-modificar" onclick="editarUsuario('<%= user.usuario %>')">
                    <i class="fas fa-edit"></i> Modificar
                </button>
                <button class="btn-eliminar" onclick="eliminarUsuario('<%= user.usuario %>')" 
                        <%= user.usuario === usuario.usuario ? 'disabled title="No puedes eliminar tu propio usuario"' : '' %>>
                    <i class="fas fa-trash"></i> Eliminar
                </button>
            </td>
        </tr>
        <% }); %>
    <% } else { %>
        <tr>
            <td colspan="5" style="text-align:center;padding:20px;">No hay usuarios registrados</td>
        </tr>
    <% } %>
</table>

