<h2><i class="fas fa-reply"></i> Responder Solicitud</h2>
<div style="background:#f8f9fa;padding:15px;border-radius:8px;margin-bottom:20px;">
    <p><strong>Usuario:</strong> <%= solicitud.usuario %></p>
    <p><strong>Planta:</strong> <%= solicitud.nombre_planta %></p>
    <p><strong>Descripción:</strong> <%= solicitud.descripcion_planta %></p>
    <p><strong>Ubicación:</strong> <%= solicitud.ubicacion %></p>
    <p><strong>Fecha:</strong> <%= new Date(solicitud.fecha).toLocaleDateString('es-MX') %></p>
    <p><strong>Estado actual:</strong> <%= solicitud.estado || 'pendiente' %></p>
</div>
<form id="form-solicitud" action="/administracion/solicitudes/<%= solicitud.id %>/actualizar" 
      method="POST">
    <label>
        Estado:
        <select name="estado" required>
            <option value="pendiente" <%= solicitud.estado === 'pendiente' ? 'selected' : '' %>>Pendiente</option>
            <option value="aprobada" <%= solicitud.estado === 'aprobada' ? 'selected' : '' %>>Aprobada</option>
            <option value="rechazada" <%= solicitud.estado === 'rechazada' ? 'selected' : '' %>>Rechazada</option>
            <option value="en proceso" <%= solicitud.estado === 'en proceso' ? 'selected' : '' %>>En proceso</option>
        </select>
    </label>
    <label>
        Respuesta/Comentarios:
        <textarea name="respuesta" rows="4" placeholder="Escribe tu respuesta o comentarios..."><%= solicitud.respuesta || '' %></textarea>
    </label>
    <div style="display: flex; gap: 12px; margin-top: 24px; justify-content: center;">
        <button type="submit">
            <i class="fas fa-save"></i> Guardar Respuesta
        </button>
        <button type="button" onclick="document.getElementById('modal-responder-solicitud').style.display='none'">
            <i class="fas fa-times"></i> Cancelar
        </button>
    </div>
</form>

